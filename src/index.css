@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
}

@layer components {
  .form-input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
  }
  
  .form-textarea {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y min-h-[100px];
  }
  
  .form-select {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white;
  }
  
  .btn-primary {
    @apply bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors;
    display: inline-flex;
    align-items: center;
  }
  
  .btn-secondary {
    @apply bg-gray-200 text-gray-700 px-6 py-2 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors;
    display: inline-flex;
    align-items: center;
  }
  
  .btn-danger {
    @apply bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors;
    display: inline-flex;
    align-items: center;
  }
}

/* Hugerte Editor Styles */
.tox-tinymce {
  border: 1px solid #d1d5db !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
}

.tox-tinymce:focus-within {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5) !important;
}

/* Override Hugerte default fonts and styles */
.tox .tox-edit-area__iframe {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* Hugerte iframe content styling */
.tox-edit-area iframe {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* Hugerte toolbar styling */
.tox-toolbar {
  border-bottom: 1px solid #e5e7eb !important;
  background-color: #f9fafb !important;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

.tox-toolbar button {
  color: #6b7280 !important;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

.tox-toolbar button:hover {
  background-color: #e5e7eb !important;
  color: #374151 !important;
}

/* Force font in all Hugerte elements */
.tox * {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* Hugerte editor content area */
.tox-edit-area {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* Hugerte statusbar (if shown) */
.tox-statusbar {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* Custom styles for preview content - ultra compact spacing */
.prose {
  color: inherit;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 14px;
  line-height: 1.5;
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  color: inherit;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  margin-top: 0;
  margin-bottom: 0;
  font-weight: 600;
  line-height: 1.5;
}

.prose p {
  margin-top: 0;
  margin-bottom: 0;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.5;
}

.prose ul {
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 1.25rem;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  list-style-type: disc;
}

.prose ol {
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 1.25rem;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  list-style-type: decimal;
}

.prose li {
  margin-top: 0;
  margin-bottom: 0;
  line-height: 1.5;
  list-style: inherit;
  display: list-item;
}

.prose strong {
  font-weight: 600;
  color: inherit;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.prose em {
  font-style: italic;
  color: inherit;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* PDF export optimizations */
@media print {
  /* Hide navigation and non-essential elements */
  .no-print,
  nav,
  header:not(.resume-header),
  footer,
  button {
    display: none !important;
  }
  
  /* Ensure all content is visible in PDF */
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Print layout optimizations */
  body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
  }
  
  .resume-content {
    box-shadow: none !important;
    border-radius: 0 !important;
    margin: 0 !important;
    padding: 20mm !important;
    width: 100% !important;
    max-width: none !important;
  }
  
  /* Ensure page breaks work properly */
  .break-inside-avoid {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }
  
  /* Section break controls */
  section {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }
  
  /* Individual item break controls */
  .work-experience-item,
  .education-item {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }
  
  /* Prevent orphaned headers */
  h1, h2, h3 {
    break-after: avoid !important;
    page-break-after: avoid !important;
  }
}

/* MS Word style page preview */
.word-page {
  width: 210mm !important;
  height: 297mm !important;
  box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.1), 0 4px 8px -2px rgba(0, 0, 0, 0.06) !important;
  border: 1px solid #e5e7eb !important;
  overflow: hidden !important;
  position: relative !important;
  background: white !important;
}

/* Resume section styling */
.resume-section {
  margin-bottom: 1rem;
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

/* Ensure content respects page boundaries */
.word-page .resume-section {
  page-break-inside: avoid;
}

/* Force text wrapping in page content */
.word-page * {
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
  box-sizing: border-box;
}

/* Ensure proper spacing between pages */
.word-page + .word-page {
  margin-top: 2rem;
}

/* MS Word style page break classes */
.page-break-before {
  page-break-before: always !important;
  break-before: page !important;
}

.page-break-after {
  page-break-after: always !important;
  break-after: page !important;
}

.page-break-inside-avoid {
  page-break-inside: avoid !important;
  break-inside: avoid !important;
}

/* Responsive scaling for MS Word style pages */
@media (max-width: 1200px) {
  .word-page {
    width: 100% !important;
    max-width: 210mm !important;
    transform: scale(0.85);
    transform-origin: top center;
    margin-bottom: 3rem !important;
  }
}

@media (max-width: 1024px) {
  .word-page {
    transform: scale(0.75);
    margin-bottom: 4rem !important;
  }
}

@media (max-width: 768px) {
  .word-page {
    transform: scale(0.65);
    margin-bottom: 5rem !important;
  }
}

@media (max-width: 640px) {
  .word-page {
    transform: scale(0.55);
    margin-bottom: 6rem !important;
  }
}

/* Ensure content is visible for html2canvas */
.resume-content {
  background-color: #ffffff !important;
  color: #000000 !important;
}

/* Allow skill badges and other elements to keep their background colors */
.resume-content * {
  color: inherit !important;
}

/* Skill card container background */
.resume-content .bg-gray-50 {
  background-color: #f9fafb !important;
}

/* Skill level badge backgrounds */
.resume-content .skill-level-badge {
  background-color: inherit !important;
}

/* Professional DOCX style */
.docx-style {
  border: 1px solid #e0e0e0 !important;
  border-radius: 0 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

.docx-style * {
  font-family: 'Times', 'Times New Roman', serif !important;
}

.docx-style h1, .docx-style h2, .docx-style h3 {
  font-family: 'Times', 'Times New Roman', serif !important;
}

/* Professional spacing for print */
@media print {
  .docx-style {
    border: none !important;
    box-shadow: none !important;
    margin: 0 !important;
    padding: 1in !important;
    width: 8.5in !important;
    min-height: 11in !important;
  }
}

/* HTML content styling for preview */
.resume-content .html-content {
  font-family: 'Times', 'Times New Roman', serif !important;
}

.resume-content .html-content p {
  margin: 0 0 6pt 0 !important;
  line-height: 1.15 !important;
}

.resume-content .html-content ul,
.resume-content .html-content ol {
  margin: 0 0 6pt 16pt !important;
  padding: 0 !important;
  list-style-position: outside !important;
}

.resume-content .html-content ul {
  list-style-type: disc !important;
}

.resume-content .html-content ol {
  list-style-type: decimal !important;
}

.resume-content .html-content li {
  margin: 0 0 3pt 0 !important;
  line-height: 1.15 !important;
}

.resume-content .html-content strong,
.resume-content .html-content b {
  font-weight: bold !important;
}

.resume-content .html-content em,
.resume-content .html-content i {
  font-style: italic !important;
}

.resume-content .html-content u {
  text-decoration: underline !important;
}

.resume-content .html-content br {
  line-height: 1.15 !important;
}

/* Ensure Unicode icons render properly in PDF */
.unicode-icon {
  font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', sans-serif;
  font-size: 14px;
  line-height: 1;
  display: inline-block;
  text-align: center;
  vertical-align: middle;
}

/* Ensure skill level badges display correctly */
.skill-level-badge {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Specific background colors for skill levels */
.skill-level-badge.bg-red-100 {
  background-color: #fee2e2 !important;
  color: #991b1b !important;
  border-color: #fca5a5 !important;
}

.skill-level-badge.bg-yellow-100 {
  background-color: #fef3c7 !important;
  color: #92400e !important;
  border-color: #fcd34d !important;
}

.skill-level-badge.bg-blue-100 {
  background-color: #dbeafe !important;
  color: #1e40af !important;
  border-color: #93c5fd !important;
}

.skill-level-badge.bg-green-100 {
  background-color: #dcfce7 !important;
  color: #166534 !important;
  border-color: #86efac !important;
}

.skill-level-badge.bg-gray-100 {
  background-color: #f3f4f6 !important;
  color: #374151 !important;
  border-color: #d1d5db !important;
}

/* DOCX Preview Styles - Matching actual DOCX generator settings */
.docx-preview-container {
  font-family: 'Times New Roman', Times, serif !important;
}

/* Mobile optimizations for DOCX preview */
.mobile-optimized {
  /* Ensure smooth scrolling on mobile */
  -webkit-overflow-scrolling: touch;
  /* Prevent zoom on double tap */
  touch-action: manipulation;
}

/* Mobile-specific DOCX preview styling */
@media (max-width: 768px) {
  .docx-preview-container.mobile-optimized {
    /* Adjust minimum height for mobile */
    min-height: 300px !important;
    /* Better mobile scrolling */
    overflow-x: auto !important;
    overflow-y: auto !important;
    /* Prevent horizontal overflow issues */
    max-width: 100% !important;
  }

  /* Scale down DOCX content on mobile if needed */
  .docx-preview-container.mobile-optimized .docx-wrapper {
    transform-origin: top left;
    max-width: 100%;
    overflow-x: auto;
  }

  /* Ensure text is readable on mobile */
  .docx-preview-container.mobile-optimized * {
    font-size: 12px !important;
    line-height: 1.4 !important;
  }

  /* Adjust margins and padding for mobile */
  .docx-preview-container.mobile-optimized .docx-wrapper > * {
    margin: 8px !important;
    padding: 4px !important;
  }
}

/* Extra small devices */
@media (max-width: 480px) {
  .docx-preview-container.mobile-optimized {
    min-height: 250px !important;
  }

  .docx-preview-container.mobile-optimized * {
    font-size: 11px !important;
    line-height: 1.3 !important;
  }

  /* More compact spacing for very small screens */
  .docx-preview-container.mobile-optimized .docx-wrapper > * {
    margin: 4px !important;
    padding: 2px !important;
  }
}

/* Improve mobile touch targets */
@media (max-width: 768px) {
  .btn-primary,
  .btn-secondary {
    min-height: 44px;
    min-width: 44px;
    padding: 8px 12px;
  }
  
  /* Ensure buttons are touch-friendly */
  button {
    touch-action: manipulation;
  }
}

/* React Doc Viewer Mobile Optimizations */
.document-viewer-container {
  /* Ensure smooth scrolling */
  -webkit-overflow-scrolling: touch;
  
  /* Prevent zoom on double tap */
  touch-action: manipulation;
}

/* Mobile-specific document viewer styling */
@media (max-width: 768px) {
  .document-viewer-container {
    /* Better mobile layout */
    border-radius: 8px;
    overflow: hidden;
  }

  /* Override react-doc-viewer default styles for mobile */
  .document-viewer-container > div {
    min-height: 300px !important;
    height: 400px !important;
  }

  /* Ensure document content is responsive */
  .document-viewer-container iframe,
  .document-viewer-container canvas,
  .document-viewer-container embed,
  .document-viewer-container object {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    max-height: 400px !important;
  }
}

/* Extra small devices */
@media (max-width: 480px) {
  .document-viewer-container > div {
    min-height: 250px !important;
    height: 300px !important;
  }

  .document-viewer-container iframe,
  .document-viewer-container canvas,
  .document-viewer-container embed,
  .document-viewer-container object {
    max-height: 300px !important;
  }
}

/* Ensure document viewer controls are touch-friendly */
.document-viewer-container button,
.document-viewer-container [role="button"] {
  min-height: 44px;
  min-width: 44px;
  touch-action: manipulation;
}

/* Improve document viewer loading states */
.document-viewer-container [data-testid="loading"],
.document-viewer-container .loading {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  background-color: #f8fafc;
  border-radius: 8px;
}
